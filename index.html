<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Aloqa Tizimi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@400;500;600;700&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #0a0a0a 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            color: white;
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        .gold-text {
            background: linear-gradient(90deg, #d4af37 0%, #f8e16c 25%, #d4af37 50%, #f8e16c 75%, #d4af37 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 3s linear infinite;
        }

        .luxury-card {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.95) 0%, rgba(15, 15, 15, 0.98) 100%);
            backdrop-filter: blur(20px);
            border: 2px solid #d4af37;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.2);
        }

        .btn-gold {
            background: linear-gradient(135deg, #d4af37 0%, #f8e16c 50%, #d4af37 100%);
            color: #000;
            font-weight: 700;
            transition: all 0.3s ease;
        }

        .btn-gold:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.5);
        }

        .ornament {
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, #d4af37, transparent);
            margin: 20px 0;
        }

        .loader-ring {
            border: 4px solid rgba(212, 175, 55, 0.1);
            border-top: 4px solid #d4af37;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin { 100% { transform: rotate(360deg); } }
        .fade-in { animation: fadeIn 0.6s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div id="loader" class="text-center">
        <div class="loader-ring mx-auto mb-4"></div>
        <p class="gold-text font-semibold">YUKLANMOQDA...</p>
    </div>

    <div id="card" class="hidden luxury-card rounded-3xl w-full max-w-sm p-8 fade-in text-center">
        <div class="mb-6">
            <i class="fa-solid fa-crown text-5xl text-[#d4af37]"></i>
        </div>

        <div class="ornament"></div>

        <h1 id="name" class="text-3xl font-bold mb-2 gold-text" style="font-family: 'Playfair Display', serif;">---</h1>
        <p id="car-info" class="text-gray-400 text-xs tracking-[3px] uppercase mb-8">---</p>

        <div class="space-y-4">
            <a id="tel-link" href="#" class="btn-gold flex items-center justify-center gap-3 py-4 rounded-xl">
                <i class="fa-solid fa-phone"></i>
                <span>QO'NG'IROQ QILISH</span>
            </a>
            
            <a id="tg-link" href="#" class="btn-gold flex items-center justify-center gap-3 py-4 rounded-xl">
                <i class="fa-brands fa-telegram"></i>
                <span>TELEGRAM ORQALI</span>
            </a>
        </div>

        <div class="ornament mt-8"></div>
        <p class="text-[10px] text-gray-500 tracking-[4px] uppercase">Premium Aloqa Tizimi</p>
    </div>

    <div id="error" class="hidden text-center luxury-card rounded-3xl p-8 max-w-sm fade-in">
        <i class="fa-solid fa-triangle-exclamation text-5xl text-red-500 mb-4"></i>
        <h2 class="text-xl font-bold gold-text">XATOLIK!</h2>
        <p class="text-gray-400 mt-2 text-sm">Ma'lumot topilmadi yoki ID noto'g'ri.</p>
    </div>

    <script>
        async function loadUser() {
            try {
                const params = new URLSearchParams(window.location.search);
                const id = params.get('id');
                
                // data.json faylidan ma'lumotlarni olish
                const response = await fetch('data.json');
                if (!response.ok) throw new Error("Fayl topilmadi");
                const users = await response.json();
                
                setTimeout(() => {
                    document.getElementById('loader').classList.add('hidden');

                    if (id && users[id]) {
                        const user = users[id];
                        document.getElementById('card').classList.remove('hidden');
                        document.getElementById('name').innerText = user.name;
                        document.getElementById('car-info').innerText = user.car || "MOSHINA EGASI";
                        
                        // Telefon linkini sozlash
                        document.getElementById('tel-link').href = `tel:${user.tel}`;
                        
                        // Telegram linkini sozlash (@ belgisini olib tashlaymiz agar bo'lsa)
                        const cleanTg = user.tg.replace('@', '');
                        document.getElementById('tg-link').href = `https://t.me/${cleanTg}`;
                    } else {
                        document.getElementById('error').classList.remove('hidden');
                    }
                }, 800);

            } catch (err) {
                console.error("Xatolik:", err);
                document.getElementById('loader').innerHTML = '<p class="text-red-500">Bazaga ulanishda xato!</p>';
            }
        }
        loadUser();
    </script>
</body>
</html>